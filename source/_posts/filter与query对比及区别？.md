---
title: filter与query对比及区别？
date: 2021-01-16 09:29:13
tags: [面试, Elasticsearch]
category: [面试, Elasticsearch]
---

# filter

* 仅仅只是按照搜索条件过滤出需要的数据而已，不计算任何相关度分数，对相关度没有任何影响。
* 只是根据一些条件筛选出一部分数据，不关注其排序。
* 不希望一些搜索条件来影响你的document排序。
* 不需要计算相关度分数，不需要按照相关度分数进行排序，同时还有内置的自动cache最常使用filter的数据。

# query

* 会去计算每个document相对于搜索条件的相关度，并按照相关度进行排序。
* 进行搜索需要将最匹配搜索条件的数据先返回。
* 越符合这些搜索条件的document越排在前面返回。
* 要计算相关度分数，按照分数进行排序，而且无法cache结果。

