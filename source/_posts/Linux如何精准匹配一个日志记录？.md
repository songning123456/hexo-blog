---
title: Linux如何精准匹配一个日志记录？
date: 2021-01-16 12:32:41
tags: [面试, 部署]
category: [面试, 部署]
---

```
tail -n  10  test.log   // 查询日志尾部最后10行的日志
tail -n +10 test.log    // 查询10行之后的所有日志
head -n 10  test.log    // 查询日志文件中的头10行日志
head -n -10  test.log   // 查询日志文件除了最后10行的其他所有日志
```

# 按行号查看

```
// 得到关键日志的行号，例如102行
cat -n test.log |grep "地形" 

// 得到"地形"关键字所在的行号是102行，此时如果我想查看这个关键字前10行和后10行的日志
// tail -n +92 表示查询92行之后的日志
// head -n 20 表示在前面的查询结果里再查前20条记录
cat -n test.log | tail -n +92 | head -n 20 
```

# 按日期查看

```
// 两个日期必须是日志中打印出来的日志，否则无效
// 可以先 grep '2014-12-17 16:17:20' test.log 确定日志中是否有该时间点
sed -n '/2014-12-17 16:17:20/,/2014-12-17 16:17:36/p'  test.log
```
